# KPU Simulator Configuration - Minimal
# Smallest viable KPU for testing and development
# 1 tile, 8x8 array, 1 L3 tile, 4 L2 banks

name: "Minimal KPU"
description: "Single compute tile, minimal memory for basic testing"

# Host system memory (minimal for testing)
host_memory:
  region_count: 1
  region_capacity_mb: 128
  bandwidth_gbps: 25

# External memory (single GDDR6 channel)
external_memory:
  bank_count: 1
  bank_capacity_mb: 256
  bandwidth_gbps: 50

# Memory controller configuration
memory_controller:
  controller_count: 1
  page_buffer_count: 2
  page_buffer_capacity_kb: 16

# On-chip memory hierarchy
on_chip_memory:
  # L3: Software-managed global buffer
  l3:
    tile_count: 1
    tile_capacity_kb: 64

  # L2: Software-managed tile buffer (4 banks to match streamer bandwidth)
  l2:
    bank_count: 4
    bank_capacity_kb: 32

  # L1: Streaming buffers in compute fabric
  # buffer_count is DERIVED from processor array: 4 * (rows + cols) * tiles
  # For 8x8 array with 1 tile: 4 * (8 + 8) * 1 = 64 buffers
  l1:
    buffer_capacity_kb: 32

# Data movement engines (minimal)
data_movement:
  dma_engine_count: 1
  block_mover_count: 1
  streamer_count: 4

# Compute fabric configuration
compute:
  tile_count: 1
  processor_array:
    rows: 8
    cols: 8
    topology: rectangular
  systolic_mode: true
